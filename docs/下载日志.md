● 有两种方式：

  方式1: 导出 Docker 日志到文件

  # 导出所有5个容器的日志
  mkdir -p docker-logs
  docker logs quant-trend-core > docker-logs/trend-core.log 2>&1
  docker logs quant-tech-alpha > docker-logs/tech-alpha.log 2>&1
  docker logs quant-cross-factor > docker-logs/cross-factor.log 2>&1
  docker logs quant-event-risk > docker-logs/event-risk.log 2>&1
  docker logs quant-hf-arbitrage > docker-logs/hf-arbitrage.log 2>&1

  # 打包下载
  tar -czvf docker-logs.tar.gz docker-logs/
  

  方式2: 日志已挂载到宿主机 ./logs/ 目录

  # 直接打包挂载的日志目录
  tar -czvf app-logs.tar.gz logs/

  然后用 scp 下载到本地：

  # 在本地执行
  scp suqunhau@<服务器IP>:~/projects/new-quant-trading-system-js/docker-logs.tar.gz .

  

  # 1. 重新构建基础镜像（包含你修改的200根K线代码）
  docker build -t quant-trading-system:latest --no-cache .

  # 2. 停止旧容器
  docker compose -f ./docker-compose.multi-strategy.yml down

  # 3. 启动新容器
  docker compose -f ./docker-compose.multi-strategy.yml up -d


  mkdir -p docker-logs; docker logs quant-trend-core > docker-logs/trend-core.log 2>&1; docker logs quant-tech-alpha > docker-logs/tech-alpha.log 2>&1; docker logs quant-cross-factor > docker-logs/cross-factor.log 2>&1; docker logs quant-event-risk > docker-logs/event-risk.log 2>&1; docker logs quant-hf-arbitrage > docker-logs/hf-arbitrage.log 2>&1; tar -czvf docker-logs.tar.gz docker-logs



  ● 我来为你创建一个单策略的 docker-compose 配置文件：

● Write(docker-compose.single-strategy.yml)
  ⎿  Wrote 1 lines to docker-compose.single-strategy.yml
     # =============================================================================
     # Docker Compose - 单策略部署配置 (使用宿主机Redis/ClickHouse)
     # Single-Strategy Deployment Configuration (Using Host Redis/ClickHouse)
     #
     # 运行单个策略实例，适合测试或小规模部署
     # Run a single strategy instance, suitable for testing or small-scale deployment
     # =============================================================================
     services:
       # ===========================================================================

● 已创建 docker-compose.single-strategy.yml，主要特点：

  - 单实例部署：只包含一个 quant-single 服务
  - 灵活配置：策略名、交易对、时间周期等都支持环境变量覆盖
  - 默认配置：SMA策略，BTC/ETH交易对，1h周期
  - 端口：3000 (HTTP)、9100 (Metrics)、8000 (WebSocket)

  使用方式：

  # 默认启动 (SMA策略)
  docker-compose -f docker-compose.single-strategy.yml up -d

  # 指定策略启动
  STRATEGY_NAME=RSI docker-compose -f docker-compose.single-strategy.yml up -d

  # 自定义完整配置
  STRATEGY_NAME=MACD DEFAULT_SYMBOLS="SOL/USDT:USDT" DEFAULT_TIMEFRAME=4h \
    docker-compose -f docker-compose.single-strategy.yml up -d
