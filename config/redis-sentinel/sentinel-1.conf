# Redis Sentinel 配置文件
# Redis Sentinel Configuration File
#
# Sentinel 1 配置
# sentinel-1.conf

# Sentinel 端口
port 26379

# Sentinel 日志级别
loglevel notice

# 监控的 Master 配置
# sentinel monitor <master-name> <ip> <port> <quorum>
# quorum: 需要多少个 Sentinel 同意才能进行故障转移
sentinel monitor mymaster redis-master 6379 2

# Master 被认为下线的时间 (毫秒)
sentinel down-after-milliseconds mymaster 5000

# 故障转移超时 (毫秒)
sentinel failover-timeout mymaster 60000

# 并行同步的副本数
sentinel parallel-syncs mymaster 1

# 认证密码 (如果 Redis 需要密码)
# sentinel auth-pass mymaster your-password

# 通知脚本 (可选)
# sentinel notification-script mymaster /path/to/script.sh

# 客户端重配置脚本 (可选)
# sentinel client-reconfig-script mymaster /path/to/script.sh

# 宣告 IP 和端口 (在 Docker 中必需)
# sentinel announce-ip <ip>
# sentinel announce-port <port>

# 防止 SCRIPT DEBUG 和其他危险命令
rename-command SCRIPT DEBUG ""
